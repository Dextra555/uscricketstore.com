<section>
  <div class="own_container">
    <div class="row" id="content-download">
      <div class="col-md-12 d-md-block">
        <div class="header d-flex justify-content-between align-items-center">
          <a routerLink="/">
            <img
              src="{{assetPath}}assets/images/logo-new.png"
              alt="Logo"
              width="120"
              class=""
              style="width: 120px"
            />
          </a>
          <div class="page_title text-center p-0">
            <h3>ORDER CONFIRMATION</h3>
          </div>

          <div class="w-auto-cutom" style="width: 150px; text-align: right">
            <svg
              data-html2canvas-ignore="true"
              class="print"
              (click)="printPage()"
              id="Layer_1"
              data-name="Layer 1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 122.88 114.81"
              fill="#000"
            >
              <title>printer</title>
              <path
                d="M18.46,89.86H7.82A7.8,7.8,0,0,1,2.3,87.57l-.24-.26A7.82,7.82,0,0,1,0,82V35.44a7.81,7.81,0,0,1,2.3-5.53l.25-.23a7.77,7.77,0,0,1,5.27-2.06H20.13A8.07,8.07,0,0,1,20,26.14v-18a8.05,8.05,0,0,1,2.39-5.72h0A8.07,8.07,0,0,1,28.1,0H94.78a8.13,8.13,0,0,1,8.11,8.11v18a8.07,8.07,0,0,1-.14,1.48h12.31a7.81,7.81,0,0,1,5.51,2.29h0a7.8,7.8,0,0,1,2.3,5.52V82a7.84,7.84,0,0,1-7.82,7.82H104.42v20.31a4.63,4.63,0,0,1-1.36,3.28,4.32,4.32,0,0,1-.39.34,4.6,4.6,0,0,1-2.89,1H23.1a4.63,4.63,0,0,1-3.28-1.36,3.06,3.06,0,0,1-.34-.39,4.6,4.6,0,0,1-1-2.89V89.86ZM27,27.62H95.91l.19-.17a1.86,1.86,0,0,0,.55-1.31v-18a1.88,1.88,0,0,0-1.87-1.87H28.1a1.87,1.87,0,0,0-1.32.55h0a1.87,1.87,0,0,0-.54,1.32v18a1.84,1.84,0,0,0,.55,1.31l.19.17Zm9.3,71.71a2.4,2.4,0,0,1,0-4.8H63.64a2.4,2.4,0,0,1,0,4.8Zm0-14.56a2.4,2.4,0,0,1,0-4.8H86.61a2.4,2.4,0,0,1,0,4.8ZM7.07,60.61H115.81V35.44a.76.76,0,0,0-.22-.54.77.77,0,0,0-.53-.22H7.82a.76.76,0,0,0-.46.16l-.07.07a.76.76,0,0,0-.22.53V60.61Zm108.74,7.07H102.19a4.13,4.13,0,0,1,.87.69,4.63,4.63,0,0,1,1.36,3.28V82.79h10.64a.75.75,0,0,0,.53-.22.79.79,0,0,0,.22-.53V67.68Zm-95.12,0H7.07V82a.81.81,0,0,0,.15.46l.07.07a.75.75,0,0,0,.53.22H18.46V71.65a4.63,4.63,0,0,1,1.36-3.28,4.13,4.13,0,0,1,.87-.69Zm76.67,4.23H25.52v35.83H97.36V71.91Z"
              />
            </svg>

            <svg
              data-html2canvas-ignore="true"
              class="download"
              (click)="downloadPdf()"
              id="Layer_1"
              data-name="Layer 1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 122.88 120.89"
            >
              <title>download-file</title>
              <path
                d="M84.58,47a7.71,7.71,0,1,1,10.8,11L66.09,86.88a7.72,7.72,0,0,1-10.82,0L26.4,58.37a7.71,7.71,0,1,1,10.81-11L53.1,63.12l.16-55.47a7.72,7.72,0,0,1,15.43.13l-.15,55L84.58,47ZM0,113.48.1,83.3a7.72,7.72,0,1,1,15.43.14l-.07,22q46,.09,91.91,0l.07-22.12a7.72,7.72,0,1,1,15.44.14l-.1,30h-.09a7.71,7.71,0,0,1-7.64,7.36q-53.73.1-107.38,0A7.7,7.7,0,0,1,0,113.48Z"
              />
            </svg>
          </div>
        </div>

        <div class="page_title-inner text-center">
          <h3>ORDER# {{ invoiceData?.code }}</h3>
        </div>
      </div>
      <!-- insert data -->
      <div
        class="px-0-custom"
        style="padding: 20px 20px"
        id="content-to-download"
      >
        <div class="px-0-custom-inner" style="padding: 0px 19px">
          <table>
            <thead>
              <tr>
                <th width="50%"></th>

                <th width="50%"></th>
              </tr>
            </thead>

            <tbody>
              <tr class="custom-flex">
                <td style="width: 50%">
                  <table class="text-left">
                    <tbody>
                      <tr>
                        <td class="">
                          <span class=" ">Order Date: </span>

                          <span class="bold"> {{ invoiceData?.date }}</span>
                        </td>
                      </tr>

                      <tr>
                        <td *ngFor="let item of invoiceData?.orders">
                          <span *ngIf="!allLaneProducts" class=" "
                            >Delivery Type:
                          </span>

                          <span
                            *ngIf="!allLaneProducts"
                            class="bold"
                            style="text-transform: capitalize"
                          >
                            {{ orderSummary?.courier_name }}</span
                          >
                        </td>
                      </tr>
                      <tr>
                        <td class="">
                          <span class=" ">Payment By: </span>

                          <span class="bold">
                            {{ orderSummary?.payment_type | titlecase }}</span
                          >
                        </td>
                      </tr>
                      <tr>
                        <td class="">
                          <span class=" ">Payment ID: </span>

                          <span class="bold">
                            {{ orderDetails?.transaction_id }}</span
                          >
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>

                <td
                  class="right-side-address"
                  style="width: 50%"
                  *ngIf="allLaneProducts || (orderSummary?.courier_name === orderSummary?.take_home_text)"
                >
                  <table style="margin-left: auto">
                    <tbody>
                      <tr>
                        <td>
                          <span class="label">Name: </span>
                          <span
                            class="bold"
                            style="
                              width: 100%;
                              display: inline-block;
                              text-align: right;
                            "
                          >
                            {{ invoiceData?.user?.name }}</span
                          >
                        </td>
                      </tr>

                      <tr>
                        <td>
                          <span class="label">Email: </span>
                          <span
                            class="bold"
                            style="
                              width: 100%;
                              display: inline-block;
                              text-align: right;
                            "
                          >
                            {{ invoiceData?.user?.email }}</span
                          >
                        </td>
                      </tr>

                      <tr *ngIf="!loggedin">
                        <td class="">
                          <span class="label">Phone No.: </span>
                          <span
                            class="bold"
                            style="
                              width: 100%;
                              display: inline-block;
                              text-align: right;
                            "
                          >
                            {{ invoiceData?.user?.phone }}</span
                          >
                        </td>
                      </tr>

                      <tr>
                        <td class=""></td>
                      </tr>

                      <tr>
                        <td class=""></td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div
          *ngIf="!allLaneProducts && (orderSummary?.courier_name !== orderSummary?.take_home_text)"
          class="px-0-custom-inner"
          style="margin: 8px 19px 15px 19px; clear: both"
        >
          <div
            class="flex-custom"
            style="display: flex; justify-content: space-between; gap: 4%"
          >
            <div
              style="
                padding: 10px 14px;
                border: 1px solid #dedede;
                border-radius: 3px;
                width: 48%;
              "
            >
              <table class="">
                <tbody>
                  <tr>
                    <td class="bold">Billing Address:</td>
                  </tr>

                  <tr>
                    <td class="">
                      {{ invoiceData?.billing_address?.address }},{{
                        invoiceData?.billing_address?.city
                      }}
                    </td>
                  </tr>

                  <tr>
                    <td class="">
                      {{ invoiceData?.billing_address?.state }},{{
                        invoiceData?.billing_address?.country
                      }},{{ invoiceData?.billing_address?.postal_code }}
                    </td>
                  </tr>

                  <tr>
                    <td class="">
                      Phone: {{ invoiceData?.billing_address?.phone }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div
              style="
                padding: 10px 14px;
                border: 1px solid #dedede;
                border-radius: 3px;
                width: 48%;
              "
            >
              <table class="text-right">
                <tbody>
                  <tr>
                    <td class="bold">Shipping Address:</td>
                  </tr>
                  <tr>
                    <td class="">
                      {{ invoiceData?.shipping_address?.address }},{{
                        invoiceData?.shipping_address?.city
                      }}
                    </td>
                  </tr>

                  <tr>
                    <td class="">
                      {{ invoiceData?.shipping_address?.state }},{{
                        invoiceData?.shipping_address?.country
                      }},{{ invoiceData?.shipping_address?.postal_code }}
                    </td>
                  </tr>

                  <tr>
                    <td class="">
                      Phone: {{ invoiceData?.shipping_address?.phone }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div
          class="px-0-custom-inner cutom-overflow"
          style="margin: 8px 19px 15px 19px"
        >
          <table class="lg-padding" style="border-collapse: collapse">
            <thead>
              <tr>
                <td
                  style="border-bottom: 1px solid #dedede"
                  class="text-left bold"
                >
                  S/L
                </td>

                <td
                  style="border-bottom: 1px solid #dedede"
                  class="text-left bold"
                >
                  Product Name
                </td>

                <td
                  style="border-bottom: 1px solid #dedede"
                  class="text-left bold"
                >
                  QTY
                </td>

                <td
                  style="border-bottom: 1px solid #dedede"
                  class="text-left bold"
                >
                  Unit price
                </td>

                <td
                  style="border-bottom: 1px solid #dedede"
                  class="text-left bold"
                >
                  Unit tax
                </td>

                <td
                  style="border-bottom: 1px solid #dedede"
                  class="text-right bold"
                >
                  Total
                </td>
              </tr>
            </thead>

            <tbody class="strong">
              <tr *ngFor="let orders of productData; let i = index">
                <td
                  style="border-bottom: 1px solid #dedede; padding-left: 20px"
                >
                  {{ i + 1 }}
                </td>

                <td style="border-bottom: 1px solid #dedede" *ngIf="!orders?.booked_slots">
                  <span style="display: block">{{ orders?.name }}</span>
                  <div><span class="me-4 py-1 fs-12"
                    *ngFor="let cobination of orders.combinations"><span
                      class="opacity-70">{{cobination.attribute}}</span> : <span
                      class="fw-500">{{cobination.value}}</span></span></div>
                  <div class="addons" *ngIf="orders && orders.product_addons">
                    <span class="addon-val" *ngFor="let addon of orders.product_addons">
                      <span class="addon-title">{{addon.name}}
                        (+${{addon.price}})</span>
                    </span>
                  </div>
                </td>

                <td style="border-bottom: 1px solid #dedede" *ngIf="orders?.booked_slots">
                  <span style="display: block">{{ orders?.name }}</span>
                  <!-- <span style="display: block"
                    >Seats:
                    <strong>{{ orders?.booked_slots?.people }}</strong></span
                  > -->
                  <span style="display: block"
                    >Date:
                    <strong>{{
                      orders?.booked_slots?.booking_date
                    }}</strong></span
                  >
                  <span
                    style="display: block"
                    *ngFor="let slot of orders?.booked_slots?.items"
                    >Timing:
                    <strong
                      >{{ slot?.slot_start_time }} -
                      {{ slot?.slot_end_time }}</strong
                    ></span
                  >
                </td>

                <td class="" style="border-bottom: 1px solid #dedede">
                  {{orders?.quantity}} {{ (orders?.booked_slots)?"Members":"" }}
                </td>

                <td class="" style="border-bottom: 1px solid #dedede">
                  $ {{ orders?.price }}
                </td>

                <td class="" style="border-bottom: 1px solid #dedede">
                  $ {{ orders?.tax }}
                </td>

                <td
                  class="text-right bold"
                  style="border-bottom: 1px solid #dedede; padding-right: 20px"
                >
                  $ {{ orders?.total }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="px-0-custom-inner" style="margin: 15px 19px; clear: both">
          <div style="float: left; width: 43%; padding: 14px 20px"></div>

          <div
            class="bottom-details"
            style="
              float: right;
              width: 43%;
              margin-bottom: 30px;
              padding: 14px 20px;
              border: 1px solid #dedede;
              border-radius: 3px;
            "
          >
            <table
              class="text-right sm-padding"
              style="border-collapse: collapse"
            >
              <tbody>
                <tr>
                  <td
                    class="text-left"
                    style="border-bottom: 1px dotted #b8b8b8"
                  >
                    Sub Total
                  </td>

                  <td class="bold" style="border-bottom: 1px dotted #b8b8b8">
                    $ {{ orderSummary?.subtotal.toFixed(2) }}
                  </td>
                </tr>

                <tr class="">
                  <td
                    class="text-left"
                    style="border-bottom: 1px dotted #b8b8b8"
                  >
                    Total Tax
                  </td>

                  <td class="bold" style="border-bottom: 1px dotted #b8b8b8">
                    $ {{ orderSummary?.tax }}
                  </td>
                </tr>

                <tr>
                  <td
                    class="text-left"
                    style="border-bottom: 1px dotted #b8b8b8"
                  >
                    Shipping Cost
                  </td>

                  <td class="bold" style="border-bottom: 1px dotted #b8b8b8">
                    $ {{ orderSummary?.shipping_cost }}
                  </td>
                </tr>

                <tr class="">
                  <td
                    class="text-left"
                    style="border-bottom: 1px solid #dedede"
                  >
                    Coupon discount
                  </td>

                  <td class="bold" style="border-bottom: 1px solid #dedede">
                    $ {{ orderSummary?.coupon_discount }}
                  </td>
                </tr>

                <tr>
                  <td class="text-left bold">Grand Total</td>

                  <td class="bold">$ {{ orderSummary?.grand_total }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-12 text-center mb-5 hide-print">
      <button class="button btn" routerLink="/">Go Back To Homepage</button>
    </div>
  </div>
</section>
